/Users/reo/Documents/Repositories/finflow-ui/scripts/rl_inference_server.py:820: DeprecationWarning: 
        on_event is deprecated, use lifespan event handlers instead.

        Read more about it in the
        [FastAPI docs for Lifespan Events](https://fastapi.tiangolo.com/advanced/events/).
        
  @app.on_event("startup")
INFO:     Will watch for changes in these directories: ['/Users/reo/Documents/Repositories/finflow-ui/scripts']
INFO:     Uvicorn running on http://0.0.0.0:8000 (Press CTRL+C to quit)
INFO:     Started reloader process [33130] using WatchFiles
INFO:     Started server process [33996]
INFO:     Waiting for application startup.
INFO:     Application startup complete.
데이터 로드 중...
데이터 파일 로드 중: data/portfolio_data_AAPL_AMZN_GOOGL_MSFT_2020-01-01_2021-01-01.pkl
데이터 로드 성공: (253, 10, 10), 날짜 범위: 2020-01-02 00:00:00 ~ 2020-12-31 00:00:00
강화학습 모델 로드 중...
체크포인트 키: ['episode', 'model_state_dict', 'optimizer_state_dict', 'best_reward', 'ema_model_state_dict', 'ema_decay']
모델 로드 성공: models/best_model.pth
서버 준비 완료 (모델 + 데이터)
INFO:     127.0.0.1:50987 - "GET /health HTTP/1.1" 200 OK
XAI 분석 시작: 투자금액=1000000.0, 방식=fast
동적 데이터 생성: 날짜 인덱스 248, 리스크 moderate, 금액 1000000.0
빠른 분석 계산 시작 (예상 5-10초)
빠른 Feature Importance 계산 중... (5-10초)
실용적 Feature Importance 계산 완료!
상위 5개: [0.2831, 0.2778, 0.2746, 0.2664, 0.2632]
자산 간 상관관계 분석 중...
실용적 Attention Weights 계산 중...
실용적 Attention Weights 계산 완료!
상위 5개: [0.2591, 0.1996, 0.1994, 0.1963, 0.1953]
포트폴리오 예측 시작: 금액=1000000.0, 리스크=moderate, 기간=252일
동적 데이터 생성: 날짜 인덱스 244, 리스크 moderate, 금액 1000000.0
모델 입력 텐서 형태: torch.Size([1, 10, 10])
입력 데이터 샘플: [127.000626 127.80262  125.133156]
모델 출력 가중치: [0.08714344 0.11531539 0.18362264 0.1343905  0.0556093 ]...
최종 응답 데이터: {'allocation': [{'symbol': 'AAPL', 'weight': 0.08714344141471249}, {'symbol': 'MSFT', 'weight': 0.11531538237053907}, {'symbol': 'AMZN', 'weight': 0.18362263890524524}, {'symbol': 'GOOGL', 'weight': 0.13439049991392252}, {'symbol': 'AMD', 'weight': 0.05560929566077731}, {'symbol': 'TSLA', 'weight': 0.11017318548215291}, {'symbol': 'JPM', 'weight': 0.07905816840425843}, {'symbol': 'JNJ', 'weight': 0.025015228753540713}, {'symbol': 'PG', 'weight': 0.059582112776921194}, {'symbol': 'V', 'weight': 0.048176708395970595}, {'symbol': '현금', 'weight': 0.10191333792195954}], 'metrics': {'total_return': 40.1, 'annual_return': 15.42, 'sharpe_ratio': 0.8927, 'sortino_ratio': 1.3034, 'max_drawdown': 19.18, 'volatility': 17.28, 'win_rate': 57.3, 'profit_loss_ratio': 1.3643}}
사용자 경험 향상을 위해 3.0초 추가 대기
XAI 분석 완료! (방식: fast, 총 소요시간: 3.0초)
INFO:     127.0.0.1:50991 - "POST /explain HTTP/1.1" 200 OK
XAI 분석 시작: 투자금액=1000000.0, 방식=accurate
동적 데이터 생성: 날짜 인덱스 230, 리스크 moderate, 금액 1000000.0
정확한 분석 계산 시작 (예상 30초-2분)
개선된 Feature Importance 계산 시작... (예상 소요시간: 10-20초)
입력 데이터 형태: torch.Size([1, 10, 10])
기준 예측 확률: tensor([0.0871, 0.1153, 0.1836, 0.1344, 0.0556])
개선된 Feature Importance 계산 완료!
상위 5개: [1.0, 1.0, 1.0, 1.0, 1.0]
자산 간 상관관계 분석 중...
실용적 Attention Weights 계산 중...
실용적 Attention Weights 계산 완료!
상위 5개: [0.2149, 0.1995, 0.1921, 0.1919, 0.186]
포트폴리오 예측 시작: 금액=1000000.0, 리스크=moderate, 기간=252일
동적 데이터 생성: 날짜 인덱스 236, 리스크 moderate, 금액 1000000.0
모델 입력 텐서 형태: torch.Size([1, 10, 10])
입력 데이터 샘플: [122.15512  123.4796   121.276375]
모델 출력 가중치: [0.08714344 0.11531539 0.18362264 0.1343905  0.0556093 ]...
최종 응답 데이터: {'allocation': [{'symbol': 'AAPL', 'weight': 0.08714344141471249}, {'symbol': 'MSFT', 'weight': 0.11531538237053907}, {'symbol': 'AMZN', 'weight': 0.18362263890524524}, {'symbol': 'GOOGL', 'weight': 0.13439049991392252}, {'symbol': 'AMD', 'weight': 0.05560929566077731}, {'symbol': 'TSLA', 'weight': 0.11017318548215291}, {'symbol': 'JPM', 'weight': 0.07905816840425843}, {'symbol': 'JNJ', 'weight': 0.025015228753540713}, {'symbol': 'PG', 'weight': 0.059582112776921194}, {'symbol': 'V', 'weight': 0.048176708395970595}, {'symbol': '현금', 'weight': 0.10191333792195954}], 'metrics': {'total_return': 40.1, 'annual_return': 15.42, 'sharpe_ratio': 0.8927, 'sortino_ratio': 1.3034, 'max_drawdown': 19.18, 'volatility': 17.28, 'win_rate': 57.3, 'profit_loss_ratio': 1.3643}}
사용자 경험 향상을 위해 8.0초 추가 대기
XAI 분석 완료! (방식: accurate, 총 소요시간: 8.0초)
INFO:     127.0.0.1:50994 - "POST /explain HTTP/1.1" 200 OK
XAI 분석 시작: 투자금액=11111111.0, 방식=accurate
동적 데이터 생성: 날짜 인덱스 230, 리스크 moderate, 금액 11111111.0
정확한 분석 계산 시작 (예상 30초-2분)
개선된 Feature Importance 계산 시작... (예상 소요시간: 10-20초)
입력 데이터 형태: torch.Size([1, 10, 10])
기준 예측 확률: tensor([0.0871, 0.1153, 0.1836, 0.1344, 0.0556])
개선된 Feature Importance 계산 완료!
상위 5개: [1.0, 1.0, 1.0, 1.0, 1.0]
자산 간 상관관계 분석 중...
실용적 Attention Weights 계산 중...
실용적 Attention Weights 계산 완료!
상위 5개: [0.2471, 0.2261, 0.2036, 0.1974, 0.1924]
포트폴리오 예측 시작: 금액=11111111.0, 리스크=moderate, 기간=656일
동적 데이터 생성: 날짜 인덱스 248, 리스크 moderate, 금액 11111111.0
모델 입력 텐서 형태: torch.Size([1, 10, 10])
입력 데이터 샘플: [135.56993 140.18312 136.49684]
모델 출력 가중치: [0.08714344 0.11531539 0.18362264 0.1343905  0.0556093 ]...
최종 응답 데이터: {'allocation': [{'symbol': 'AAPL', 'weight': 0.07739424546079778}, {'symbol': 'MSFT', 'weight': 0.10241444294262726}, {'symbol': 'AMZN', 'weight': 0.18882924994962985}, {'symbol': 'GOOGL', 'weight': 0.13820113603855239}, {'symbol': 'AMD', 'weight': 0.0571860945494332}, {'symbol': 'TSLA', 'weight': 0.11329714082745442}, {'symbol': 'JPM', 'weight': 0.07021351454370321}, {'symbol': 'JNJ', 'weight': 0.022216643306476925}, {'symbol': 'PG', 'weight': 0.05291634787964024}, {'symbol': 'V', 'weight': 0.042786926182393374}, {'symbol': '현금', 'weight': 0.13454425831929137}], 'metrics': {'total_return': 39.43, 'annual_return': 15.16, 'sharpe_ratio': 0.8877, 'sortino_ratio': 1.296, 'max_drawdown': 19.34, 'volatility': 17.08, 'win_rate': 57.0, 'profit_loss_ratio': 1.3578}}
사용자 경험 향상을 위해 8.0초 추가 대기
XAI 분석 완료! (방식: accurate, 총 소요시간: 8.0초)
INFO:     127.0.0.1:51014 - "POST /explain HTTP/1.1" 200 OK
XAI 분석 시작: 투자금액=11111111.0, 방식=fast
동적 데이터 생성: 날짜 인덱스 240, 리스크 moderate, 금액 11111111.0
빠른 분석 계산 시작 (예상 5-10초)
빠른 Feature Importance 계산 중... (5-10초)
실용적 Feature Importance 계산 완료!
상위 5개: [0.3461, 0.2962, 0.2929, 0.292, 0.2817]
자산 간 상관관계 분석 중...
실용적 Attention Weights 계산 중...
실용적 Attention Weights 계산 완료!
상위 5개: [0.278, 0.2193, 0.1974, 0.1736, 0.1705]
포트폴리오 예측 시작: 금액=11111111.0, 리스크=moderate, 기간=656일
동적 데이터 생성: 날짜 인덱스 227, 리스크 moderate, 금액 11111111.0
모델 입력 텐서 형태: torch.Size([1, 10, 10])
입력 데이터 샘플: [117.98705 121.31671 115.91962]
모델 출력 가중치: [0.08714344 0.11531539 0.18362264 0.1343905  0.0556093 ]...
최종 응답 데이터: {'allocation': [{'symbol': 'AAPL', 'weight': 0.07739424546079778}, {'symbol': 'MSFT', 'weight': 0.10241444294262726}, {'symbol': 'AMZN', 'weight': 0.18882924994962985}, {'symbol': 'GOOGL', 'weight': 0.13820113603855239}, {'symbol': 'AMD', 'weight': 0.0571860945494332}, {'symbol': 'TSLA', 'weight': 0.11329714082745442}, {'symbol': 'JPM', 'weight': 0.07021351454370321}, {'symbol': 'JNJ', 'weight': 0.022216643306476925}, {'symbol': 'PG', 'weight': 0.05291634787964024}, {'symbol': 'V', 'weight': 0.042786926182393374}, {'symbol': '현금', 'weight': 0.13454425831929137}], 'metrics': {'total_return': 39.43, 'annual_return': 15.16, 'sharpe_ratio': 0.8877, 'sortino_ratio': 1.296, 'max_drawdown': 19.34, 'volatility': 17.08, 'win_rate': 57.0, 'profit_loss_ratio': 1.3578}}
사용자 경험 향상을 위해 3.0초 추가 대기
XAI 분석 완료! (방식: fast, 총 소요시간: 3.0초)
INFO:     127.0.0.1:51020 - "POST /explain HTTP/1.1" 200 OK
INFO:     127.0.0.1:51195 - "OPTIONS /predict HTTP/1.1" 200 OK
포트폴리오 예측 시작: 금액=1231234.0, 리스크=moderate, 기간=227일
동적 데이터 생성: 날짜 인덱스 230, 리스크 moderate, 금액 1231234.0
모델 입력 텐서 형태: torch.Size([1, 10, 10])
입력 데이터 샘플: [117.51742 121.02912 117.26371]
모델 출력 가중치: [0.08714344 0.11531539 0.18362264 0.1343905  0.0556093 ]...
최종 응답 데이터: {'allocation': [{'symbol': 'AAPL', 'weight': 0.08714344141471249}, {'symbol': 'MSFT', 'weight': 0.11531538237053907}, {'symbol': 'AMZN', 'weight': 0.18362263890524524}, {'symbol': 'GOOGL', 'weight': 0.13439049991392252}, {'symbol': 'AMD', 'weight': 0.05560929566077731}, {'symbol': 'TSLA', 'weight': 0.11017318548215291}, {'symbol': 'JPM', 'weight': 0.07905816840425843}, {'symbol': 'JNJ', 'weight': 0.025015228753540713}, {'symbol': 'PG', 'weight': 0.059582112776921194}, {'symbol': 'V', 'weight': 0.048176708395970595}, {'symbol': '현금', 'weight': 0.10191333792195954}], 'metrics': {'total_return': 40.1, 'annual_return': 15.42, 'sharpe_ratio': 0.8927, 'sortino_ratio': 1.3034, 'max_drawdown': 19.18, 'volatility': 17.28, 'win_rate': 57.3, 'profit_loss_ratio': 1.3643}}
INFO:     127.0.0.1:51195 - "POST /predict HTTP/1.1" 200 OK
XAI 분석 시작: 투자금액=1231234.0, 방식=accurate
동적 데이터 생성: 날짜 인덱스 242, 리스크 moderate, 금액 1231234.0
정확한 분석 계산 시작 (예상 30초-2분)
개선된 Feature Importance 계산 시작... (예상 소요시간: 10-20초)
입력 데이터 형태: torch.Size([1, 10, 10])
기준 예측 확률: tensor([0.0871, 0.1153, 0.1836, 0.1344, 0.0556])
개선된 Feature Importance 계산 완료!
상위 5개: [1.0, 1.0, 1.0, 1.0, 1.0]
자산 간 상관관계 분석 중...
실용적 Attention Weights 계산 중...
실용적 Attention Weights 계산 완료!
상위 5개: [0.2595, 0.2116, 0.1964, 0.1885, 0.1884]
포트폴리오 예측 시작: 금액=1231234.0, 리스크=moderate, 기간=227일
동적 데이터 생성: 날짜 인덱스 223, 리스크 moderate, 금액 1231234.0
모델 입력 텐서 형태: torch.Size([1, 10, 10])
입력 데이터 샘플: [116.33282  119.185524 115.94154 ]
모델 출력 가중치: [0.08714344 0.11531539 0.18362264 0.1343905  0.0556093 ]...
최종 응답 데이터: {'allocation': [{'symbol': 'AAPL', 'weight': 0.08714344141471249}, {'symbol': 'MSFT', 'weight': 0.11531538237053907}, {'symbol': 'AMZN', 'weight': 0.18362263890524524}, {'symbol': 'GOOGL', 'weight': 0.13439049991392252}, {'symbol': 'AMD', 'weight': 0.05560929566077731}, {'symbol': 'TSLA', 'weight': 0.11017318548215291}, {'symbol': 'JPM', 'weight': 0.07905816840425843}, {'symbol': 'JNJ', 'weight': 0.025015228753540713}, {'symbol': 'PG', 'weight': 0.059582112776921194}, {'symbol': 'V', 'weight': 0.048176708395970595}, {'symbol': '현금', 'weight': 0.10191333792195954}], 'metrics': {'total_return': 40.1, 'annual_return': 15.42, 'sharpe_ratio': 0.8927, 'sortino_ratio': 1.3034, 'max_drawdown': 19.18, 'volatility': 17.28, 'win_rate': 57.3, 'profit_loss_ratio': 1.3643}}
사용자 경험 향상을 위해 8.0초 추가 대기
XAI 분석 완료! (방식: accurate, 총 소요시간: 8.0초)
INFO:     127.0.0.1:51204 - "POST /explain HTTP/1.1" 200 OK
XAI 분석 시작: 투자금액=1231234.0, 방식=fast
동적 데이터 생성: 날짜 인덱스 246, 리스크 moderate, 금액 1231234.0
빠른 분석 계산 시작 (예상 5-10초)
빠른 Feature Importance 계산 중... (5-10초)
실용적 Feature Importance 계산 완료!
상위 5개: [0.2808, 0.2686, 0.2682, 0.2596, 0.2408]
자산 간 상관관계 분석 중...
실용적 Attention Weights 계산 중...
실용적 Attention Weights 계산 완료!
상위 5개: [0.255, 0.2217, 0.199, 0.1973, 0.1942]
포트폴리오 예측 시작: 금액=1231234.0, 리스크=moderate, 기간=227일
동적 데이터 생성: 날짜 인덱스 247, 리스크 moderate, 금액 1231234.0
모델 입력 텐서 형태: torch.Size([1, 10, 10])
입력 데이터 샘플: [131.5371  129.69061 128.69746]
모델 출력 가중치: [0.08714344 0.11531539 0.18362264 0.1343905  0.0556093 ]...
최종 응답 데이터: {'allocation': [{'symbol': 'AAPL', 'weight': 0.08714344141471249}, {'symbol': 'MSFT', 'weight': 0.11531538237053907}, {'symbol': 'AMZN', 'weight': 0.18362263890524524}, {'symbol': 'GOOGL', 'weight': 0.13439049991392252}, {'symbol': 'AMD', 'weight': 0.05560929566077731}, {'symbol': 'TSLA', 'weight': 0.11017318548215291}, {'symbol': 'JPM', 'weight': 0.07905816840425843}, {'symbol': 'JNJ', 'weight': 0.025015228753540713}, {'symbol': 'PG', 'weight': 0.059582112776921194}, {'symbol': 'V', 'weight': 0.048176708395970595}, {'symbol': '현금', 'weight': 0.10191333792195954}], 'metrics': {'total_return': 40.1, 'annual_return': 15.42, 'sharpe_ratio': 0.8927, 'sortino_ratio': 1.3034, 'max_drawdown': 19.18, 'volatility': 17.28, 'win_rate': 57.3, 'profit_loss_ratio': 1.3643}}
사용자 경험 향상을 위해 3.0초 추가 대기
XAI 분석 완료! (방식: fast, 총 소요시간: 3.0초)
INFO:     127.0.0.1:51224 - "POST /explain HTTP/1.1" 200 OK
XAI 분석 시작: 투자금액=1231234.0, 방식=accurate
동적 데이터 생성: 날짜 인덱스 245, 리스크 moderate, 금액 1231234.0
정확한 분석 계산 시작 (예상 30초-2분)
개선된 Feature Importance 계산 시작... (예상 소요시간: 10-20초)
입력 데이터 형태: torch.Size([1, 10, 10])
기준 예측 확률: tensor([0.0871, 0.1153, 0.1836, 0.1344, 0.0556])
개선된 Feature Importance 계산 완료!
상위 5개: [1.0, 1.0, 1.0, 1.0, 1.0]
자산 간 상관관계 분석 중...
실용적 Attention Weights 계산 중...
실용적 Attention Weights 계산 완료!
상위 5개: [0.2316, 0.2095, 0.1847, 0.1816, 0.1793]
포트폴리오 예측 시작: 금액=1231234.0, 리스크=moderate, 기간=227일
동적 데이터 생성: 날짜 인덱스 248, 리스크 moderate, 금액 1231234.0
모델 입력 텐서 형태: torch.Size([1, 10, 10])
입력 데이터 샘플: [131.27776 133.3554  130.1948 ]
모델 출력 가중치: [0.08714344 0.11531539 0.18362264 0.1343905  0.0556093 ]...
최종 응답 데이터: {'allocation': [{'symbol': 'AAPL', 'weight': 0.08714344141471249}, {'symbol': 'MSFT', 'weight': 0.11531538237053907}, {'symbol': 'AMZN', 'weight': 0.18362263890524524}, {'symbol': 'GOOGL', 'weight': 0.13439049991392252}, {'symbol': 'AMD', 'weight': 0.05560929566077731}, {'symbol': 'TSLA', 'weight': 0.11017318548215291}, {'symbol': 'JPM', 'weight': 0.07905816840425843}, {'symbol': 'JNJ', 'weight': 0.025015228753540713}, {'symbol': 'PG', 'weight': 0.059582112776921194}, {'symbol': 'V', 'weight': 0.048176708395970595}, {'symbol': '현금', 'weight': 0.10191333792195954}], 'metrics': {'total_return': 40.1, 'annual_return': 15.42, 'sharpe_ratio': 0.8927, 'sortino_ratio': 1.3034, 'max_drawdown': 19.18, 'volatility': 17.28, 'win_rate': 57.3, 'profit_loss_ratio': 1.3643}}
사용자 경험 향상을 위해 8.0초 추가 대기
XAI 분석 완료! (방식: accurate, 총 소요시간: 8.0초)
INFO:     127.0.0.1:51227 - "POST /explain HTTP/1.1" 200 OK
INFO:     127.0.0.1:52209 - "OPTIONS /predict HTTP/1.1" 200 OK
포트폴리오 예측 시작: 금액=12312354.0, 리스크=aggressive, 기간=252일
동적 데이터 생성: 날짜 인덱스 243, 리스크 aggressive, 금액 12312354.0
모델 입력 텐서 형태: torch.Size([1, 10, 10])
입력 데이터 샘플: [102.251    103.338356 103.14037 ]
모델 출력 가중치: [0.08714344 0.11531539 0.18362264 0.1343905  0.0556093 ]...
최종 응답 데이터: {'allocation': [{'symbol': 'AAPL', 'weight': 0.09218071355432628}, {'symbol': 'MSFT', 'weight': 0.12198111594100554}, {'symbol': 'AMZN', 'weight': 0.1942368307267263}, {'symbol': 'GOOGL', 'weight': 0.14215885872618855}, {'symbol': 'AMD', 'weight': 0.05882375622359239}, {'symbol': 'TSLA', 'weight': 0.11654167757693557}, {'symbol': 'JPM', 'weight': 0.083628076393277}, {'symbol': 'JNJ', 'weight': 0.026461218409453043}, {'symbol': 'PG', 'weight': 0.06302621954890646}, {'symbol': 'V', 'weight': 0.050961532899588935}, {'symbol': '현금', 'weight': 0.05000000000000001}], 'metrics': {'total_return': 41.18, 'annual_return': 15.84, 'sharpe_ratio': 0.9005, 'sortino_ratio': 1.3147, 'max_drawdown': 18.92, 'volatility': 17.59, 'win_rate': 57.8, 'profit_loss_ratio': 1.3747}}
INFO:     127.0.0.1:52209 - "POST /predict HTTP/1.1" 200 OK
XAI 분석 시작: 투자금액=12312354.0, 방식=fast
동적 데이터 생성: 날짜 인덱스 235, 리스크 aggressive, 금액 12312354.0
빠른 분석 계산 시작 (예상 5-10초)
빠른 Feature Importance 계산 중... (5-10초)
실용적 Feature Importance 계산 완료!
상위 5개: [0.3515, 0.2878, 0.2686, 0.2671, 0.26]
자산 간 상관관계 분석 중...
실용적 Attention Weights 계산 중...
실용적 Attention Weights 계산 완료!
상위 5개: [0.2286, 0.2267, 0.1972, 0.1896, 0.1835]
포트폴리오 예측 시작: 금액=12312354.0, 리스크=aggressive, 기간=252일
동적 데이터 생성: 날짜 인덱스 228, 리스크 aggressive, 금액 12312354.0
모델 입력 텐서 형태: torch.Size([1, 10, 10])
입력 데이터 샘플: [91.82233 93.91728 92.30253]
모델 출력 가중치: [0.08714344 0.11531539 0.18362264 0.1343905  0.0556093 ]...
최종 응답 데이터: {'allocation': [{'symbol': 'AAPL', 'weight': 0.09218071355432628}, {'symbol': 'MSFT', 'weight': 0.12198111594100554}, {'symbol': 'AMZN', 'weight': 0.1942368307267263}, {'symbol': 'GOOGL', 'weight': 0.14215885872618855}, {'symbol': 'AMD', 'weight': 0.05882375622359239}, {'symbol': 'TSLA', 'weight': 0.11654167757693557}, {'symbol': 'JPM', 'weight': 0.083628076393277}, {'symbol': 'JNJ', 'weight': 0.026461218409453043}, {'symbol': 'PG', 'weight': 0.06302621954890646}, {'symbol': 'V', 'weight': 0.050961532899588935}, {'symbol': '현금', 'weight': 0.05000000000000001}], 'metrics': {'total_return': 41.18, 'annual_return': 15.84, 'sharpe_ratio': 0.9005, 'sortino_ratio': 1.3147, 'max_drawdown': 18.92, 'volatility': 17.59, 'win_rate': 57.8, 'profit_loss_ratio': 1.3747}}
사용자 경험 향상을 위해 3.0초 추가 대기
XAI 분석 완료! (방식: fast, 총 소요시간: 3.0초)
INFO:     127.0.0.1:52214 - "POST /explain HTTP/1.1" 200 OK
XAI 분석 시작: 투자금액=12312354.0, 방식=accurate
동적 데이터 생성: 날짜 인덱스 239, 리스크 aggressive, 금액 12312354.0
정확한 분석 계산 시작 (예상 30초-2분)
개선된 Feature Importance 계산 시작... (예상 소요시간: 10-20초)
입력 데이터 형태: torch.Size([1, 10, 10])
기준 예측 확률: tensor([0.0871, 0.1153, 0.1836, 0.1344, 0.0556])
개선된 Feature Importance 계산 완료!
상위 5개: [1.0, 1.0, 1.0, 1.0, 1.0]
자산 간 상관관계 분석 중...
실용적 Attention Weights 계산 중...
실용적 Attention Weights 계산 완료!
상위 5개: [0.2149, 0.1988, 0.1919, 0.1886, 0.1837]
포트폴리오 예측 시작: 금액=12312354.0, 리스크=aggressive, 기간=252일
동적 데이터 생성: 날짜 인덱스 252, 리스크 aggressive, 금액 12312354.0
모델 입력 텐서 형태: torch.Size([1, 10, 10])
입력 데이터 샘플: [106.94405 105.87527 104.57015]
모델 출력 가중치: [0.08714344 0.11531539 0.18362264 0.1343905  0.0556093 ]...
최종 응답 데이터: {'allocation': [{'symbol': 'AAPL', 'weight': 0.09218071355432628}, {'symbol': 'MSFT', 'weight': 0.12198111594100554}, {'symbol': 'AMZN', 'weight': 0.1942368307267263}, {'symbol': 'GOOGL', 'weight': 0.14215885872618855}, {'symbol': 'AMD', 'weight': 0.05882375622359239}, {'symbol': 'TSLA', 'weight': 0.11654167757693557}, {'symbol': 'JPM', 'weight': 0.083628076393277}, {'symbol': 'JNJ', 'weight': 0.026461218409453043}, {'symbol': 'PG', 'weight': 0.06302621954890646}, {'symbol': 'V', 'weight': 0.050961532899588935}, {'symbol': '현금', 'weight': 0.05000000000000001}], 'metrics': {'total_return': 41.18, 'annual_return': 15.84, 'sharpe_ratio': 0.9005, 'sortino_ratio': 1.3147, 'max_drawdown': 18.92, 'volatility': 17.59, 'win_rate': 57.8, 'profit_loss_ratio': 1.3747}}
사용자 경험 향상을 위해 8.0초 추가 대기
XAI 분석 완료! (방식: accurate, 총 소요시간: 8.0초)
INFO:     127.0.0.1:52219 - "POST /explain HTTP/1.1" 200 OK
